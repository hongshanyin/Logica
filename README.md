Logica - 智能AI增强模组

  让Minecraft的怪物拥有真正的智慧

  📖 简介

  Logica是一个基于https://github.com/hongshanyin/Aperi_Oculos 感知框架的AI增强模组，为Minecraft怪物带来革命性的智能行为系统。通过不可见的标记方块和先进
  的状态机架构，让每个怪物都能成为聪明的守卫、警觉的哨兵或专业的巡逻兵。

  ✨ 核心特性

  🎯 三大AI策略

  🔴 守卫策略 (Guard)

  - 职责：领地防御，寸土不让
  - 行为：在生成点6格半径内随机游荡，离家太远会主动返回
  - 特点：忠诚的家园守护者，适合防守关键区域
  - 速度：正常速度 (1.0x)

  🔵 哨兵策略 (Sentries)

  - 职责：高速巡逻，快速响应
  - 行为：严格沿路径点高速移动，几乎不停歇
  - 特点：发现玩家时播放钟声警报，并广播给附近同伴
  - 速度：快速 (1.3x)

  ⚪ 巡逻策略 (Patrol)

  - 职责：区域搜索，全面覆盖
  - 行为：在路径点之间"之字形"游荡，形成大范围搜索网
  - 特点：每个路径点停留环顾，覆盖面积是哨兵的3-4倍
  - 速度：较快 (1.2x)

  ---
  🧠 智能状态系统

  五种AI状态，平滑切换：
  - IDLE (空闲) - 执行策略行为：守卫游荡/哨兵巡逻/巡逻搜索
  - ALERT (警戒) - 听到声音后快速转头，前往调查
  - COMBAT (战斗) - 发现玩家，主动攻击
  - TRACKING (追踪) - 战斗中失去视线，凭声音追踪
  - SEARCHING (搜寻) - 追踪超时，在最后位置附近搜寻

  ---
  👂 真实的感知系统

  基于Aperi Oculos提供的先进感知：
  - ✅ 视觉检测 - 考虑距离、视野角度、光照、遮挡物
  - ✅ 听觉感知 - 监听脚步、破坏方块、射击等8种声音
  - ✅ 隐身机制 - 隐身+无发光 = 真正不可见
  - ✅ 光照影响 - 黑暗中可以摆脱追踪（光照0-3级）

  -  基于护甲的真实潜行系统：

  护甲影响

  - 轻型护甲（布甲、皮甲）
    - ✅ 不影响移动声音
    - ✅ 潜行时脚步声范围降至 1格
    - 💡 适合潜入任务和隐秘行动
  - 重型护甲（锁链甲、铁甲、钻石甲、下界合金甲）
    - ⚠️ 脚步声范围 扩大50%
    - 🔇 潜行时声音范围 减少50%（基于扩大后）
    - ⚖️ 需要在防御力和隐蔽性之间权衡

  策略选择

  - 潜行流：穿轻甲 + 潜行移动 = 几乎无声（1格声音范围）
  - 战士流：穿重甲 + 正面战斗 = 高防御但易被发现
  - 混合流：关键时刻脱下重甲，切换战术

  ---
  🗺️ 灵活的路径系统

  标记方块（创造模式可见，生存模式完全隐形）

  - 守卫标记 🔴 - 红色，定义守卫出生点
  - 哨兵标记 🔵 - 蓝色，启动高速巡逻
  - 巡逻标记 ⚪ - 白色，开启区域搜索
  - 路径点 🔵⚪ - 蓝色/白色，定义移动路线

  独特的路径点机制

  - 哨兵 - 路径点必须相连（BFS搜索），严格路线
  - 巡逻 - 标记方块16格半径内所有同编号路径点（不需要相连），自由布局

  编号系统 (0-15)

  - 每个策略支持16个独立编号
  - 同编号怪物组成团队，共享警报
  - 不同编号互不干扰，可创建复杂多层防御

  ---
  🎮 使用场景

  🏰 冒险地图/结构

  - 创建多层防御系统（外围巡逻 + 内部哨兵 + 核心守卫）
  - 设计需要策略潜行的潜入关卡
  - 制作需要声音诱饵的解谜地图

  🗡️ PVE挑战

  - 智能Boss房间（守卫Boss + 巡逻小怪）
  - 动态难度：怪物会主动搜索躲藏的玩家
  - 真实的追踪系统：甩掉追兵需要技巧

  🏗️ 建筑保护

  - 保护重要建筑（村庄、基地、传送门）
  - 自动防御系统：怪物永不离岗
  - 可配合结构方块保存整个防御系统

  ---
  🔧 技术实现

  分层架构

  ┌─────────────────────────────────┐
     Aperi Oculos (感知层)          
      - 视觉/听觉检测                 
      - 事件广播                     
  └──────────────┬──────────────────┘
                 │
                 │ 事件驱动
                 ▼
  ┌─────────────────────────────────┐
     Logica (决策层)                
      - 状态机管理                   
      - 策略系统                     
      - 行为树/Goals                 
  └──────────────┬──────────────────┘
                 │
                 │ 指令
                 ▼
  ┌─────────────────────────────────┐
     Minecraft (执行层)             
     - 导航/转向/攻击               
  └─────────────────────────────────┘

  性能优化

  - ✅ 缓存系统：Aperi Oculos视觉检测缓存5 tick（75-85%命中率）
  - ✅ 智能查询：避免每tick重复计算，最小化性能开销
  - ✅ 原版兼容：保留原版攻击Goal，无冲突集成

  ---
  ⚙️ 配置选项

  完全可配置的AI参数：
  [Strategies]
  guardRadius = 6.0                    # 守卫游荡半径
  guardSpeedMultiplier = 1.0           # 守卫速度倍率
  sentriesSpeedMultiplier = 1.3        # 哨兵速度倍率
  sentriesRestChance = 0.1             # 哨兵停留概率
  patrolSpeedMultiplier = 1.2          # 巡逻速度倍率
  patrolSearchRadius = 8.0             # 巡逻游荡半径

  [Perception]
  investigationSpeedMultiplier = 1.5   # 调查速度倍率
  investigationDurationTicks = 200     # 调查环顾时长
  alertSoundVolume = 1.0               # 警报音效音量
  enableAlertParticles = true          # 警报粒子效果

  [Sentries Alert]
  sentriesAlertRadius = 32.0           # 哨兵警报范围
  sentriesBellCount = 3                # 钟声次数
  sentriesBellInterval = 20            # 钟声间隔
  sentriesAlertAllTypes = false        # 是否警报所有类型怪物

  ---
  📋 依赖要求

  - 必需: https://github.com/hongshanyin/Aperi_Oculos 1.0+
  - Minecraft版本: 1.20.1
  - Mod加载器: Forge
  - Java版本: 17+

  ---
  🚀 快速开始

  1. 安装依赖
    - 下载Aperi Oculos并放入mods/文件夹
    - 下载Logica并放入mods/文件夹
  2. 放置标记方块
    - 进入创造模式，打开Logica标签页
    - 选择策略标记方块（守卫/哨兵/巡逻）
    - 放置在目标区域
  3. 添加路径点（可选，仅哨兵/巡逻）
    - 放置对应的路径点方块（同编号）
    - 哨兵：路径点必须相连
    - 巡逻：标记方块16格内即可
  4. 生成怪物
    - 在标记方块附近生成怪物
    - 怪物自动应用策略（3x3x3检测范围）
  5. 切换生存模式测试
    - 所有标记方块自动隐形
    - 享受智能AI带来的全新体验！

  ---
  💡 小贴士

  声音诱饵系统

  - 破坏方块、走动、射箭都会产生振动
  - 怪物听到声音会进入ALERT状态
  - 前往声音位置调查
  - 可用于引开巡逻怪物

  光照隐藏

  - 光照0-3级时，潜行非常有效
  - 即使在战斗中也能凭黑暗摆脱追踪
  - 配合声音诱饵，创造潜行空间

  结构方块兼容

  - 标记方块完美支持结构保存
  - 可以预制防御系统并复制
  - 适合冒险地图制作者

  ---
  🛠️ 开发者

  Sorcery Dynasties

  - Aperi Oculos感知框架：https://github.com/hongshanyin/Aperi_Oculos
  - Logica决策层模组：此项目

  ---
  📜 开源协议

  本项目采用 [GPL] 协议开源。

  ---
